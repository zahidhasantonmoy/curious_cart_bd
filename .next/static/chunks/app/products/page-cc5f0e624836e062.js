(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{5215:function(e,t,r){Promise.resolve().then(r.bind(r,6561))},6561:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var a=r(7437),s=r(6341),l=r(7138),n=r(1435),i=e=>{let{product:t}=e,{addToCart:r}=(0,n.j)();return(0,a.jsxs)("div",{className:"border rounded-lg p-4 shadow-lg",children:[(0,a.jsx)(l.default,{href:"/products/".concat(t.id),children:(0,a.jsx)("img",{src:t.image,alt:t.name,className:"w-full h-48 object-cover rounded-t-lg cursor-pointer"})}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:t.name}),(0,a.jsxs)("p",{className:"text-gray-500",children:["$",t.price.toFixed(2)]}),(0,a.jsx)(l.default,{href:"/products/".concat(t.id),className:"text-brand-primary hover:underline mt-2 inline-block",children:"View Details"}),(0,a.jsx)("button",{onClick:()=>r(t),className:"mt-2 w-full bg-brand-success text-white py-2 rounded-md hover:bg-green-600",children:"Add to Cart"}),(0,a.jsx)("button",{onClick:()=>{let e=JSON.parse(localStorage.getItem("wishlist")||"[]");e.find(e=>e.id===t.id)?alert("".concat(t.name," is already in your wishlist!")):(localStorage.setItem("wishlist",JSON.stringify([...e,t])),alert("".concat(t.name," added to wishlist!")))},className:"mt-2 w-full bg-brand-accent text-white py-2 rounded-md hover:bg-red-600",children:"Add to Wishlist"})]})]})},o=r(2265);function d(){let[e,t]=(0,o.useState)([]);return(0,o.useEffect)(()=>{(async()=>{let e=await fetch("/api/products");t(await e.json())})()},[]),(0,a.jsxs)("div",{children:[(0,a.jsx)(s.Z,{}),(0,a.jsxs)("main",{className:"container mx-auto px-6 py-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:"All Products"}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:e.map(e=>(0,a.jsx)(i,{product:e},e.id))})]})]})}},6341:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var a=r(7437),s=r(7138),l=r(6648),n=r(2265),i=r(6463);function o(){let[e,t]=(0,n.useState)(!1),[r,o]=(0,n.useState)(""),d=(0,i.useRouter)();return(0,n.useEffect)(()=>{let e=localStorage.getItem("userToken"),r=localStorage.getItem("currentUser");e&&r?(t(!0),o(r)):(t(!1),o(""))},[]),(0,a.jsx)("header",{className:"bg-white shadow-md",children:(0,a.jsxs)("nav",{className:"container mx-auto px-6 py-3 flex justify-between items-center",children:[(0,a.jsx)(s.default,{href:"/",children:(0,a.jsx)(l.default,{src:"/images/logo.jpg",alt:"Curious Cart BD Logo",width:150,height:50})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(s.default,{href:"/",className:"mx-2 text-gray-800 hover:text-gray-600",children:"Home"}),(0,a.jsx)(s.default,{href:"/about",className:"mx-2 text-gray-800 hover:text-gray-600",children:"About Us"}),(0,a.jsx)(s.default,{href:"/cart",className:"mx-2 text-gray-800 hover:text-gray-600",children:"Cart"}),e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.default,{href:"/profile",className:"mx-2 text-gray-800 hover:text-gray-600",children:["Profile (",r,")"]}),(0,a.jsx)("button",{onClick:()=>{localStorage.removeItem("userToken"),localStorage.removeItem("currentUser"),t(!1),o(""),d.push("/")},className:"mx-2 text-gray-800 hover:text-gray-600 bg-transparent border-none cursor-pointer",children:"Logout"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.default,{href:"/login",className:"mx-2 text-gray-800 hover:text-gray-600",children:"Login"}),(0,a.jsx)(s.default,{href:"/register",className:"mx-2 text-gray-800 hover:text-gray-600",children:"Register"})]})]})]})})}},1435:function(e,t,r){"use strict";r.d(t,{CartProvider:function(){return n},j:function(){return i}});var a=r(7437),s=r(2265);let l=(0,s.createContext)(void 0),n=e=>{let{children:t}=e,[r,n]=(0,s.useState)([]);return(0,a.jsx)(l.Provider,{value:{cart:r,addToCart:(e,t)=>{n(r=>r.find(r=>{var a;return r.id===e.id&&(null===(a=r.selectedVariant)||void 0===a?void 0:a.value)===(null==t?void 0:t.value)})?r.map(r=>{var a;return r.id===e.id&&(null===(a=r.selectedVariant)||void 0===a?void 0:a.value)===(null==t?void 0:t.value)?{...r,quantity:r.quantity+1}:r}):[...r,{...e,quantity:1,selectedVariant:t}])},removeFromCart:e=>{n(t=>t.filter(t=>t.id!==e))},clearCart:()=>{n([])}},children:t})},i=()=>{let e=(0,s.useContext)(l);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}}},function(e){e.O(0,[138,595,971,23,744],function(){return e(e.s=5215)}),_N_E=e.O()}]);